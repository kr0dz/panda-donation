<section id="premios" class="mt-4 fadeUp d3">
  <div class="cardX p-3 p-md-4">
    <div class="d-flex align-items-end justify-content-between flex-wrap gap-2">
      <div>
        <h2 class="h4 mb-1" style="font-weight:900;">Premios</h2>
        <p class="muted mb-0">Válidos para <b>14–15 de febrero</b>. (El 3er premio se confirma pronto.)</p>
      </div>
      <span class="pill">Premios reales · validación de ganador</span>
    </div>

    <div class="row g-3 mt-2">
      <!-- =======================
           1er premio - CASA AZUL
           ======================= -->
      <div class="col-lg-4">
        <div class="soft p-3 h-100">
          <div class="prizeImg mb-3">
            <div id="carCasaAzul" class="carousel slide prizeCarousel" data-bs-ride="false">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img src="casa-azul/0fe1beb8-b9a1-4331-ae35-9d547df79844.avif" alt="Casa Azul 1">
                </div>
                <div class="carousel-item">
                  <img src="casa-azul/2e5ec738-1fee-45f1-ab0b-895dc97f8cd0.avif" alt="Casa Azul 2">
                </div>
                <div class="carousel-item">
                  <img src="casa-azul/8a911355-1436-47f8-91da-b7e22bbb99e9.avif" alt="Casa Azul 3">
                </div>
                <div class="carousel-item">
                  <img src="casa-azul/9ae36fc3-ba49-4b6b-8fc2-36a495eb093a.avif" alt="Casa Azul 4">
                </div>
                <div class="carousel-item">
                  <img src="casa-azul/24ba98df-b969-411b-97d5-d1db207a140f.avif" alt="Casa Azul 5">
                </div>
                <div class="carousel-item">
                  <img src="casa-azul/847504d3-dd38-45bb-839a-35c23f74efac.avif" alt="Casa Azul 6">
                </div>
                <div class="carousel-item">
                  <img src="casa-azul/a1adcf4f-df32-4dcd-aba3-114fcba934ba.webp" alt="Casa Azul 7">
                </div>
                <div class="carousel-item">
                  <img src="casa-azul/b40f613c-1790-4a44-89cb-044c7e139c96.avif" alt="Casa Azul 8">
                </div>
                <div class="carousel-item">
                  <img src="casa-azul/bca3c888-c820-495f-9465-2accbd26117f.avif" alt="Casa Azul 9">
                </div>
                <div class="carousel-item">
                  <img src="casa-azul/c55a6211-f8a1-4554-a38d-1ccfa66d4557.avif" alt="Casa Azul 10">
                </div>
                <div class="carousel-item">
                  <img src="casa-azul/d7d7cc2b-098d-4675-9a7f-fc219101edaf.avif" alt="Casa Azul 11">
                </div>
                <div class="carousel-item">
                  <img src="casa-azul/e3837aa0-102f-4003-90de-538dcc8c0cd7.avif" alt="Casa Azul 12">
                </div>
              </div>

              <button class="carousel-control-prev" type="button" data-bs-target="#carCasaAzul" data-bs-slide="prev" aria-label="Anterior">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#carCasaAzul" data-bs-slide="next" aria-label="Siguiente">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
              </button>

              <div class="prizeCounter"><span class="current">1</span>/<span class="total">12</span></div>
            </div>
          </div>

          <div class="d-flex justify-content-between align-items-center">
            <div class="muted small">1er premio</div>
            <span class="badge text-bg-success">2 noches</span>
          </div>
          <h3 class="h5 mt-2 mb-1" style="font-weight:900;">Casa Azul</h3>
          <p class="muted small mb-2">Estancia 2 noches (14–15 feb). Sujeto a políticas del anfitrión.</p>
          <a class="btn btn-outline-primary w-100" target="_blank" rel="noopener"
             href="https://www.airbnb.mx/rooms/935670103045137368?viralityEntryPoint=1&s=76">Ver alojamiento</a>
        </div>
      </div>

      <!-- ==========================
           2do premio - CASA MORENA
           ========================== -->
      <div class="col-lg-4">
        <div class="soft p-3 h-100">
          <div class="prizeImg mb-3">
            <div id="carCasaMorena" class="carousel slide prizeCarousel" data-bs-ride="false">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img src="hotel-casa-morena/hotelcasamorena.avif" alt="Hotel Casa Morena 1">
                </div>
                <div class="carousel-item">
                  <img src="hotel-casa-morena/hotelcasamorena2.avif" alt="Hotel Casa Morena 2">
                </div>
                <div class="carousel-item">
                  <img src="hotel-casa-morena/2025-07-29 (1).webp" alt="Hotel Casa Morena 3">
                </div>
                <div class="carousel-item">
                  <img src="hotel-casa-morena/2025-07-29 (2).webp" alt="Hotel Casa Morena 4">
                </div>
                <div class="carousel-item">
                  <img src="hotel-casa-morena/25485a5a-470d-4ee3-b84e-793b6b102312.avif" alt="Hotel Casa Morena 5">
                </div>
                <div class="carousel-item">
                  <img src="hotel-casa-morena/fcac3643-df11-4a3f-8d44-27f4c52d1c9f.avif" alt="Hotel Casa Morena 6">
                </div>
              </div>

              <button class="carousel-control-prev" type="button" data-bs-target="#carCasaMorena" data-bs-slide="prev" aria-label="Anterior">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#carCasaMorena" data-bs-slide="next" aria-label="Siguiente">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
              </button>

              <div class="prizeCounter"><span class="current">1</span>/<span class="total">6</span></div>
            </div>
          </div>

          <div class="d-flex justify-content-between align-items-center">
            <div class="muted small">2do premio</div>
            <span class="badge text-bg-primary">2 noches</span>
          </div>
          <h3 class="h5 mt-2 mb-1" style="font-weight:900;">Hotel Casa Morena (San Miguel)</h3>
          <p class="muted small mb-2">Estancia 2 noches (Verano 2026). Confirmación final al ganador.</p>
          <a class="btn btn-outline-primary w-100" target="_blank" rel="noopener"
             href="https://www.airbnb.mx/rooms/1470676662423815389?viralityEntryPoint=1&s=76">Ver alojamiento</a>
        </div>
      </div>

      <!-- ======================
           3er premio - HOTEL GTO
           ====================== -->
      <div class="col-lg-4">
        <div class="soft p-3 h-100">
          <div class="prizeImg mb-3">
            <div id="carGTO" class="carousel slide prizeCarousel" data-bs-ride="false">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img src="hotel-gto/218f81db-da05-428a-8560-f95c96c50de9.avif" alt="Hotel GTO 1">
                </div>
                <div class="carousel-item">
                  <img src="hotel-gto/982fe4c1-4be9-41f7-9b95-ad138aab4482.jpeg" alt="Hotel GTO 2">
                </div>
                <div class="carousel-item">
                  <img src="hotel-gto/32046b0d-e6ca-4bb9-bfef-774b22beecfb.avif" alt="Hotel GTO 3">
                </div>
                <div class="carousel-item">
                  <img src="hotel-gto/adf80bbb-2263-4165-9e44-519a9dfdd90c.avif" alt="Hotel GTO 4">
                </div>
                <div class="carousel-item">
                  <img src="hotel-gto/d724fb38-f243-4be8-a1ec-401cad2f63b4.avif" alt="Hotel GTO 5">
                </div>
              </div>

              <button class="carousel-control-prev" type="button" data-bs-target="#carGTO" data-bs-slide="prev" aria-label="Anterior">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#carGTO" data-bs-slide="next" aria-label="Siguiente">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
              </button>

              <div class="prizeCounter"><span class="current">1</span>/<span class="total">5</span></div>
            </div>
          </div>

          <div class="d-flex justify-content-between align-items-center">
            <div class="muted small">3er premio</div>
            <span class="badge text-bg-warning">1 noche</span>
          </div>
          <h3 class="h5 mt-2 mb-1" style="font-weight:900;">Hotel en Guanajuato</h3>
          <p class="muted small mb-2">1 noche (por confirmar). Se publican detalles en cuanto esté listo.</p>
          <a class="btn btn-outline-primary w-100" target="_blank" rel="noopener"
             href="https://www.airbnb.mx/rooms/1577792796462331985?viralityEntryPoint=1&s=76">Ver alojamiento</a>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Contador 1/N para cada carousel (opcional pero ayuda mucho)
  document.addEventListener("partials:loaded", () => {
    document.querySelectorAll(".prizeCarousel").forEach((car) => {
      const items = car.querySelectorAll(".carousel-item");
      const totalEl = car.querySelector(".prizeCounter .total");
      const currentEl = car.querySelector(".prizeCounter .current");
      if (totalEl) totalEl.textContent = items.length;

      car.addEventListener("slid.bs.carousel", () => {
        const idx = [...items].findIndex((x) => x.classList.contains("active"));
        if (currentEl) currentEl.textContent = String(idx + 1);
      });
    });
  }, { once: true });
</script>
